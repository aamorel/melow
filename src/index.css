@import url('https://fonts.googleapis.com/css2?family=Fraunces:wght@400;500;600;700&family=Nunito+Sans:wght@300;400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html,
  body,
  #root {
    height: 100%;
  }

  :root {
    --melow-bg: #1a120d;
    --melow-panel: rgba(44, 30, 22, 0.72);
    --melow-panel-border: rgba(84, 60, 45, 0.6);
    --melow-accent: #f3c26b;
    --melow-accent-2: #f09c6a;
    --melow-text: #f4ece4;
  }

  body {
    background-color: var(--melow-bg);
    color: var(--melow-text);
    font-family: 'Nunito Sans', 'Segoe UI', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    line-height: 1.6;
  }

  h1,
  h2,
  h3,
  h4 {
    font-family: 'Fraunces', 'Segoe UI', system-ui, sans-serif;
  }
}

@layer utilities {
  .animate-fade-in {
    animation: fade-in 0.8s ease-out both;
  }

  .animate-fade-up {
    animation: fade-up 0.9s ease-out both;
  }

  .stagger-fade > * {
    animation: fade-up 0.9s ease-out both;
  }

  .stagger-fade > *:nth-child(2) {
    animation-delay: 120ms;
  }

  .stagger-fade > *:nth-child(3) {
    animation-delay: 240ms;
  }

  .stagger-fade > *:nth-child(4) {
    animation-delay: 360ms;
  }

  .answer-shake {
    animation: answer-shake 0.6s ease-in-out;
  }

  .answer-pop {
    animation: answer-pop 0.7s ease-out;
  }

  .streak-pulse {
    animation: streak-pulse 0.7s ease-out;
  }

  .bg-grain {
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/></filter><rect width='160' height='160' filter='url(%23n)' opacity='0.4'/></svg>");
    background-size: 160px 160px;
    background-repeat: repeat;
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes answer-shake {
  0%,
  100% {
    transform: translateX(0);
  }
  20% {
    transform: translateX(-3px);
  }
  40% {
    transform: translateX(3px);
  }
  60% {
    transform: translateX(-2px);
  }
  80% {
    transform: translateX(2px);
  }
}

@keyframes answer-pop {
  0% {
    transform: scale(1);
  }
  40% {
    transform: scale(1.03);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes streak-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 rgba(251, 191, 36, 0);
  }
  45% {
    transform: scale(1.03);
    box-shadow: 0 0 12px rgba(251, 191, 36, 0.35);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 rgba(251, 191, 36, 0);
  }
}
